<!-- Paste this into your Blogger as an HTML widget or post -->

<!-- Poultry FCR Calculator for Blogger -->
<div style="font-family: 'Arial', sans-serif; max-width: 1000px; margin: auto; padding: 20px;">
  <h2 style="text-align:center; color: #ff9933;">🐥 Poultry FCR Dashboard</h2>

  <!-- Batch Information -->
  <h3>📋 Batch Information</h3>
  <div style="display: flex; flex-direction: column; gap: 15px;">
    <label>👤 Farmer Name:
      <input type="text" id="farmerName" class="input" style="width: 100%;" required />
    </label>

    <label>🐥 No. of Chicks (Base):
      <input type="number" id="chickCount" class="input required-input" style="width: 100%;" required />
    </label>

    <label>💵 Chick Rate (₹/Chick):
      <input type="number" id="chickRate" class="input required-input" style="width: 100%;" required />
    </label>

    <label>📅 Placement Date:
      <input type="date" id="placementDate" class="input" style="width: 100%;" />
    </label>

    <label>☠️ Mortality Count:
      <input type="number" id="mortality" class="input" style="width: 100%;" />
    </label>

    <input type="hidden" name="priceType" value="perKg">

    <label id="priceLabel">💰 Selling Price (₹/Kg):
      <input type="number" id="sellingPrice" class="input required-input" style="width: 100%;" required />
    </label>
  </div>

  <!-- Warning Message -->
  <p id="warningMessage" style="color: red; font-weight: bold; margin-top: 10px;"></p>

  <!-- Weight Input Section -->
  <h3>⚖️ Weight Calculation</h3>
  <div style="display: flex; flex-direction: column; gap: 15px;">
    <label>⚖️ Weight Type:</label>
    <div>
      <input type="radio" name="weightType" value="perBird" checked> Per Bird (kg)
      <input type="radio" name="weightType" value="totalKg"> Total Kg
      <input type="radio" name="weightType" value="totalQtl"> Total Quintal
    </div>

    <label>⚖️ Avg Weight Per Bird (kg):
      <input type="number" id="avgWeight" class="input" style="width: 100%;" value="2" />
    </label>
  </div>

  <!-- Feed Entry Section -->
  <h3>🥣 Feed Entry</h3>
  <div style="display: flex; flex-direction: column; gap: 15px;">
    <label>🥚 Pre-Starter:</label>
    <div style="display: flex; flex-wrap: wrap; gap: 10px;">
      <input type="number" id="preStarterBags" placeholder="Bags" class="input" style="flex: 1;" />
      <input type="number" id="preStarterPrice" placeholder="Price/Bag" class="input" style="flex: 1;" />
    </div>

    <label>🌱 Starter:</label>
    <div style="display: flex; flex-wrap: wrap; gap: 10px;">
      <input type="number" id="starterBags" placeholder="Bags" class="input" style="flex: 1;" />
      <input type="number" id="starterPrice" placeholder="Price/Bag" class="input" style="flex: 1;" />
    </div>

    <label>🌾 Finisher:</label>
    <div style="display: flex; flex-wrap: wrap; gap: 10px;">
      <input type="number" id="finisherBags" placeholder="Bags" class="input" style="flex: 1;" />
      <input type="number" id="finisherPrice" placeholder="Price/Bag" class="input" style="flex: 1;" />
    </div>
  </div>

  <!-- Calculate Button -->
  <div style="margin-top: 20px; text-align: center;">
    <button onclick="calculateFCR()" style="padding: 10px 20px; font-size: 16px; background-color: #28a745; color: white; border: none; border-radius: 5px;">🔢 Calculate</button>
  </div>

  <!-- Output Summary -->
  <h3 style="margin-top: 30px;">📋 Output Summary</h3>
  <div id="outputSummary"></div>

  <!-- Chart Canvas -->
  <canvas id="fcrChart" style="width:100%; max-width:600px; margin-top:30px;"></canvas>

  <!-- Footer for PDF -->
  <footer style="margin-top: 40px; text-align: center; font-size: 14px; color: #888;">
    <div style="margin-bottom: 10px;">
      🌐 <button>Hindi / English</button>
      📄 <button onclick="exportToPDF()">Export PDF</button>
      📊 <button>Export Excel</button>
    </div>
    🔒 Powered by <strong>chickrate.com</strong> | 🐥 Trusted Poultry Insights
  </footer>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
function calculateFCR() {
  const chicks = parseFloat(document.getElementById('chickCount').value);
  const chickRate = parseFloat(document.getElementById('chickRate').value);
  const mortality = parseFloat(document.getElementById('mortality').value) || 0;
  const sellingPrice = parseFloat(document.getElementById('sellingPrice').value);
  const avgWeight = parseFloat(document.getElementById('avgWeight').value);

  const preBags = parseFloat(document.getElementById('preStarterBags').value) || 0;
  const prePrice = parseFloat(document.getElementById('preStarterPrice').value) || 0;
  const starterBags = parseFloat(document.getElementById('starterBags').value) || 0;
  const starterPrice = parseFloat(document.getElementById('starterPrice').value) || 0;
  const finisherBags = parseFloat(document.getElementById('finisherBags').value) || 0;
  const finisherPrice = parseFloat(document.getElementById('finisherPrice').value) || 0;

  if (isNaN(chicks) || isNaN(chickRate) || isNaN(sellingPrice)) {
    document.getElementById('warningMessage').innerText = "⚠️ Please fill all required fields correctly.";
    return;
  } else {
    document.getElementById('warningMessage').innerText = "";
  }

  const totalBirds = chicks * 1.02;
  const liveBirds = totalBirds - mortality;
  const totalWeight = liveBirds * avgWeight;

  const chickCost = chicks * chickRate;
  const feedCost = (preBags * prePrice) + (starterBags * starterPrice) + (finisherBags * finisherPrice);
  const totalCost = chickCost + feedCost;

  const revenue = totalWeight * sellingPrice;
  const netProfit = revenue - totalCost;
  const profitPerBird = netProfit / liveBirds;
  const breakevenPrice = totalCost / liveBirds;
  const fcr = (preBags + starterBags + finisherBags) * 50 / totalWeight;

  document.getElementById('outputSummary').innerHTML = `
    🐤 Live Birds: <strong>${liveBirds.toFixed(0)}</strong><br>
    ⚖️ Total Weight: <strong>${totalWeight.toFixed(2)} kg</strong><br>
    💰 Chick Cost: ₹<strong>${chickCost.toFixed(2)}</strong><br>
    🥣 Feed Cost: ₹<strong>${feedCost.toFixed(2)}</strong><br>
    🧾 Total Cost: ₹<strong>${totalCost.toFixed(2)}</strong><br>
    🪙 Revenue: ₹<strong>${revenue.toFixed(2)}</strong><br>
    📈 FCR: <strong>${fcr.toFixed(2)}</strong><br>
    💸 Net Profit: ₹<strong>${netProfit.toFixed(2)}</strong><br>
    🐔 Profit/Bird: ₹<strong>${profitPerBird.toFixed(2)}</strong><br>
    🎯 Breakeven Price: ₹<strong>${breakevenPrice.toFixed(2)}</strong>
  `;

  if (window.fcrChart && typeof window.fcrChart.destroy === 'function') {
    window.fcrChart.destroy();
  }

  const ctx = document.getElementById('fcrChart').getContext('2d');
  window.fcrChart = new Chart(ctx, {
    type: 'bar',
    data: {
      labels: ['Live Birds', 'Total Weight', 'FCR', 'Net Profit'],
      datasets: [{
        label: 'Overview',
        data: [liveBirds, totalWeight, fcr, netProfit],
        backgroundColor: ['#4caf50', '#2196f3', '#ff9800', '#e91e63']
      }]
    }
  });
}

function exportToPDF() {
  alert("PDF export coming soon.");
}
</script>
